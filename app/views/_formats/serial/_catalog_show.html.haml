-# serial

/ _formats/serial/_catalog_show.html.haml

- cache("catalog_show_format=serial_#{document.cache_key}") do
  - marc = document.to_marc

  = add_row("Author", generate_value_links(display_marc_field(marc, 'author'), :author))
  = add_row("Title", display_marc_field(marc, 'title'))
  = add_row("Parallel Title", display_marc_field(marc, 'title_parallel'))
  = add_row("Edition", display_marc_field(marc, 'edition'))
  = add_row("Published", display_marc_field(marc, 'publish'))
  = add_row("Produced", display_marc_field(marc, 'publish_produce'))
  = add_row("Distributed", display_marc_field(marc, 'publish_distribute'))
  = add_row("Manufactured", display_marc_field(marc, 'publish_manufacture'))
  = add_row("Copyright", display_marc_field(marc, 'publish_copyright'))
  = add_row("Description", display_marc_field(marc, 'description'))

  = add_row("Issues Published", display_marc_field(marc, 'issues_published'))
  = add_row("Continues", generate_value_links(display_marc_field(marc, 'continues'), :serial))
  = add_row("Continues in part", generate_value_links(display_marc_field(marc, 'continues_in_part'), :serial))
  = add_row("Supersedes", generate_value_links(display_marc_field(marc, 'supersedes'), :serial))
  = add_row("Supersedes in part", generate_value_links(display_marc_field(marc, 'supersedes_in_part'), :serial))
  = add_row("Formed by the union of", generate_value_links(display_marc_field(marc, 'formed_by_the_union_of'), :serial))
  = add_row("Absorbed", generate_value_links(display_marc_field(marc, 'absorbed'), :serial))
  = add_row("Absorbed in part", generate_value_links(display_marc_field(marc, 'absorbed_in_part'), :serial))
  = add_row("Separated from", generate_value_links(display_marc_field(marc, 'separated_from'), :serial))
  = add_row("Continued by", generate_value_links(display_marc_field(marc, 'continued_by'), :serial))
  = add_row("Continued in part by", generate_value_links(display_marc_field(marc, 'continued_in_part_by'), :serial))
  = add_row("Superseded by", generate_value_links(display_marc_field(marc, 'superseded_by'), :serial))
  = add_row("Superseded in part by", generate_value_links(display_marc_field(marc, 'superseded_in_part_by'), :serial))
  = add_row("Absorbed by", generate_value_links(display_marc_field(marc, 'absorbed_by'), :serial))
  = add_row("Absorbed in part by", generate_value_links(display_marc_field(marc, 'absorbed_in_part_by'), :serial))
  = add_row("Split into", generate_value_links(display_marc_field(marc, 'split_into'), :serial))
  = add_row("Merged with, to form", generate_value_links(display_marc_field(marc, 'merged_with_to_form'), :serial))
  = add_row("Changed back to", generate_value_links(display_marc_field(marc, 'changed_back_to'), :serial))

  = add_row("Series", generate_value_links(display_marc_field(marc, 'series'), :series_title))

  = add_row("In", display_marc_field(marc, 'in'))

  - subjects = display_marc_field(marc, 'subject_LC')
  - subjects = display_marc_field(marc, 'subject_fast') if subjects.blank?
  -# - subjects = display_marc_field(marc, 'subject_LC') + display_marc_field(marc, 'subject_fast')
  = add_row("Subjects", generate_value_links_subject(subjects))
  = add_row("Medical Subjects", generate_value_links_subject(display_marc_field(marc, 'subject_mesh')))
  = add_row("Subjects (Genre)", generate_value_links_subject(display_marc_field(marc, 'subject_genre')))

  = add_row("Also Listed Under", generate_value_links(display_marc_field(marc, 'author_other'), :author))
  -# NEXT-911 - Display uniform title in serial records
  = add_row("Uniform Title", display_marc_field(marc, 'title_uniform'))
  = add_row("Includes", generate_value_links(display_marc_field(marc, 'contains'), :all))

  = add_row("Summary", display_marc_field(marc, 'summary'))
  = add_row("Contents", display_marc_field(marc, 'contents'))

  -# TITLE BLOCK
  = add_row("Former Title", display_marc_field(marc, 'title_former'))
  = add_row("Other Titles", display_marc_field(marc, 'title_other'))
  = add_row("Distinctive Title", display_marc_field(marc, 'title_distinctive'))
  = add_row("Cover Title", display_marc_field(marc, 'title_cover'))
  = add_row("Added Title Page", display_marc_field(marc, 'title_added'))
  = add_row("Caption Title", display_marc_field(marc, 'title_caption'))
  = add_row("Running Title", display_marc_field(marc, 'title_running'))
  = add_row("Spine Title", display_marc_field(marc, 'title_spine'))

  = add_row("Frequency", display_marc_field(marc, 'frequency'))

  -# NOTES BLOCK
  = add_row("Access and Use", display_marc_field(marc, 'restrictions'))
  = add_row("Notes", display_marc_field(marc, 'notes'))
  = add_row("Related Materials", display_marc_field(marc, 'related_materials'))
  = add_row("Other Editions:", display_marc_field(marc, 'other_editions'))
  = add_row("Other Information:", display_unlinked_880_field(marc))
  = add_row("Provenance", display_marc_field(marc, 'provenance'))
  = add_row("Exhibitions", display_marc_field(marc, 'exhibitions'))

  = add_row("Credits", display_marc_field(marc, 'credits'))
  = add_row("Reproduction Note", display_marc_field(marc, 'reproduction_note'))
  = add_row("Cite As", display_marc_field(marc, 'cite_as'))
  = add_row("Language", document["language_facet"], :join => '; ')
  = add_row("Language Note", display_marc_field(marc, 'language'))
  = add_row("References", display_marc_field(marc, 'references'))

  = add_row("LCCN", display_marc_field(marc, 'LCCN'))
  = add_row("ISSN", display_marc_field(marc, 'ISSN'))
  = add_row('Related To', display_marc_field(marc, 'related_to'))
  = add_row('Format', formats_with_icons(document))
  = add_row('Acquired On', Date.parse(document.fetch('acq_dt', nil)).to_formatted_s(:long)) if document.fetch('acq_dt', nil)
